$enable-gradients: false;
$enable-shadows: false;
$enable-rounded: true;
$enable-grid-classes: false;
$enable-container-classes: false;
$enable-rfs: true;

// Configuration
@import "bootstrap/scss/functions";
@import "variables";
@import "bootstrap/scss/variables";
@import "bootstrap/scss/variables-dark";
@import "maps";
@import "bootstrap/scss/maps";

@import "bootstrap/scss/mixins";
@import "bootstrap/scss/utilities";
@import "mixins";
@import "utilities";

$surface-color: var(--#{$prefix}surface);
$surface-inverse-color: var(--#{$prefix}surface-inverse);
$surface-container-high-color: var(--#{$prefix}surface-cntr-high);
$surface-container-low-color: var(--#{$prefix}surface-cntr-low);
$on-surface-color: var(--#{$prefix}on-surface);
$on-secondary-cntr-color: var(--#{$prefix}on-secondary-cntr);

$nav-link-disabled-color: $surface-inverse-color;

$grid-breakpoints: map-remove($grid-breakpoints, xl, xxl);
$card-border-radius: $border-radius-sm;
$card-border-width: 0;
$card-cap-bg: null;
$card-bg: var(--#{$prefix}surface-cntr-low);
$card-color: $on-surface-color;

$spoiler-border-radius: $border-radius-sm;

$badge-border-radius: $border-radius-sm;
$toast-border-radius: $border-radius-sm;

$input-color: $on-surface-color;
$input-bg: $surface-color;
$input-disabled-bg: $surface-container-high-color;
$input-plaintext-color: $on-surface-color;
$input-placeholder-color: $surface-inverse-color;
$input-focus-color: $input-color;
$input-focus-bg: $input-bg;
$form-text-color: $surface-inverse-color;
$form-select-color: $on-surface-color;
$form-select-bg: $surface-color;
$form-select-disabled-bg: $surface-container-high-color;
$form-check-input-color: $on-surface-color;
$form-check-input-bg: $surface-color;
$form-file-button-color: $on-surface-color;
$form-file-button-bg: $surface-container-low-color;
$form-file-button-hover-bg: $surface-container-high-color;
$input-group-addon-color: $on-surface-color;
$input-group-addon-bg: $surface-container-low-color;
$form-range-thumb-disabled-bg: $surface-inverse-color;
$form-range-track-bg: $surface-container-high-color;

$modal-content-bg: rgba(var(--#{$prefix}surface-cntr-high-rgb), 1);
$modal-content-border-radius: $border-radius-xl;
$modal-content-border-width: 0;

$dropdown-border-radius: $border-radius-sm;
$dropdown-color: $on-surface-color;
$dropdown-link-color: $on-surface-color;
$dropdown-link-hover-color: $on-surface-color;
$dropdown-link-hover-bg: $surface-container-low-color;
$dropdown-link-disabled-color: $on-surface-color;
$dropdown-bg: var(--#{$prefix}surface-cntr);

$list-group-border-color: 0;
$list-group-border-width: 0;
$list-group-color: $on-surface-color;
$list-group-bg: $surface-color;
$list-group-hover-bg: $surface-container-low-color;
$list-group-disabled-color: $surface-inverse-color;
$list-group-disabled-bg: $list-group-bg;
$list-group-action-color: $on-surface-color;
$list-group-action-active-color: $list-group-action-color;
$list-group-action-active-bg: $surface-container-high-color;
$list-group-action-hover-color: $on-secondary-cntr-color;

$table-color: $on-secondary-cntr-color;
$table-bg: $surface-color;
$table-caption-color: $surface-inverse-color;
$table-active-color: $table-color;
$table-active-bg: rgba(var(--#{$prefix}on-secondary-cntr-rgb), $table-active-bg-factor);
$table-striped-color: $table-color;
$table-striped-bg: rgba(var(--#{$prefix}on-secondary-cntr-rgb), $table-striped-bg-factor);
$table-hover-color: $table-color;
$table-hover-bg: rgba(var(--#{$prefix}on-secondary-cntr-rgb), $table-hover-bg-factor);

$toast-background-color: $surface-color;
$toast-header-background-color: $toast-background-color;
$toast-header-color: $surface-inverse-color;

$breadcrumb-border-radius: 0;
$breadcrumb-divider: quote("\276f");
$breadcrumb-item-padding-x: map-get($spacers, 1);
$breadcrumb-divider-color: $surface-inverse-color;
$breadcrumb-active-color: $surface-inverse-color;

$card-box-shadow: var(--switch-shadow, $box-shadow-sm);
$card-border-width: var(--switch-border, $card-border-width);
$card-border-radius: var(--switch-border-radius, $border-radius-xl);

@import "root";

:root,
[data-bs-theme="light"] {
    --#{$prefix}brand-color: #{shade-color($primary, 40%)};
    --#{$prefix}accent-color: #{$primary};
    --#{$prefix}accent-color-subtle: #{tint-color($primary, 40%)};
    --#{$prefix}accent-color-emphasis: #{shade-color($primary, 60%)};
}

@include color-mode(dark) {
    --#{$prefix}brand-color: #{shade-color($primary, 80%)};
    --#{$prefix}accent-color: #{$primary};
    --#{$prefix}accent-color-subtle: #{shade-color($primary, 60%)};
    --#{$prefix}accent-color-emphasis: #{tint-color($primary, 40%)};
}

@import "bootstrap/scss/reboot";
@import "bootstrap/scss/type";

@include no-theme-colors {
    $btn-padding-x: #{map-get($spacers, 4)};
    @import "bootstrap/scss/buttons";
}

@import "buttons";

@import "bootstrap/scss/button-group";
@import "bootstrap/scss/forms";
@import "bootstrap/scss/card";
@import "bootstrap/scss/breadcrumb";
@import "bootstrap/scss/badge";
@import "bootstrap/scss/toasts";

@include no-theme-colors {
    @import "bootstrap/scss/list-group";
}

@import "bootstrap/scss/close";
@import "bootstrap/scss/placeholders";
@import "bootstrap/scss/dropdown";

// Helpers
@import "bootstrap/scss/helpers/stacks";
@import "bootstrap/scss/helpers/text-truncation";
@import "bootstrap/scss/helpers/visually-hidden";
@import "helpers/color-bg";
@import "helpers/containers";
@import "helpers/position";
@import "helpers/interactions";

@import "text-utils";
@import "animations";
@import "layout-grid";
@import "layout-table";
@import "navbar";
@import "appshell";
@import "dropdown";
@import "spoiler";
@import "slider";
@import "player";
@import "browser";
@import "backdrop";
@import "icons";
@import "alert";
@import "dialog";
@import "forms";

// Utilities
@import "bootstrap/scss/utilities/api";

/********** Specific site element styles **********/

::backdrop {
    --#{$prefix}backdrop-bg-color: rgba(0 0 0 / 0.5);
    --#{$prefix}backdrop-blur-radius: 0;
    --#{$prefix}backdrop-transition-duration: var(--#{$animation-prefix}duration-1);
}

.pb-6 {
    padding-bottom: #{$spacer * 5} !important;
}

.pb-7 {
    padding-bottom: #{$spacer * 7} !important;
}

:focus-visible {
    outline: none;
    box-shadow: 0 0 0 var(--#{$prefix}focus-ring-width) var(--#{$prefix}focus-ring-color);
}

a:not(.btn):focus-visible {
    border-radius: var(--#{$prefix}border-radius-sm);
}

.nt-host {
    display: flex;
    flex-flow: row-reverse wrap-reverse;
    gap: map-get($spacers, 3);
    margin: map-get($spacers, 3);
    inset: 0 0 auto 0;
    position: absolute;
    z-index: $zindex-fixed;
    max-height: 50vh;
    overflow: visible auto;
    scroll-snap-type: y proximity;
    container-type: inline-size;

    > * {
        scroll-snap-align: end;
        flex: 0 1 40ch;

        @container (inline-size <=576px) {
            flex: 100%;
        }
    }
}

@include any-pointer {
    .dropdown-item {
        padding-block: map-get($spacers, 3);
    }

    .browser-view > .table {
        touch-action: manipulation;
    }
}