@mixin slider-run-animation($suffix) {
    @keyframes slider-run#{$suffix} {
        to {
            transform: none;
        }
    }
}

@include slider-run-animation("");
@include slider-run-animation("0");
@include slider-run-animation("1");

@keyframes slider-run-infinite {
    0% {
        transform: scale3d(var(--slider-progress-infinite), 1, 1) translate3d(-100%, 0, 0);
    }

    100% {
        transform: scale3d(var(--slider-progress-infinite), 1, 1) translate3d(calc((1 / var(--slider-progress-infinite)) * 100%), 0, 0);
    }
}

.slider {
    --slider-color: var(--#{$prefix}link-color);
    --slider-hover-color: var(--#{$prefix}link-hover-color);
    --slider-size: 0.15rem;
    --slider-ticker-size: calc(6 * var(--slider-size));
    --slider-ticker-scale-factor: 1.25;
    --slider-progress: 0;
    --slider-progress-infinite: 0.5;
    --slider-animation-duration: 0;
    --slider-animation-name: none;
    --slider-animation: var(--slider-animation-name) var(--slider-animation-duration) linear forwards;

    touch-action: none;
    user-select: none;
    padding: calc((var(--slider-ticker-size) * var(--slider-ticker-scale-factor) - var(--slider-size)) / 2) 0;
    border-radius: var(--#{$prefix}border-radius-sm);

    &:hover,
    &[data-manipulated="1"],
    &:focus-visible {
        --slider-color: var(--slider-hover-color);
    }

    &[data-manipulated="1"] .slider-thumb {
        transform: scale3d(var(--slider-ticker-scale-factor), var(--slider-ticker-scale-factor), 1);
    }
}

.slider-track
{
    height: var(--slider-size);
    position: relative;
    background-color: var(--slider-bg-color);
}

.slider-indicator
{
    position: absolute;
    background-color: var(--slider-color);
    width: 100%;
    height: 100%;
    transform-origin: left top;
    transform: scale3d(var(--slider-progress), 1, 1);
    animation: var(--slider-animation);
}

.slider-thumb-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    transform: translate3d(calc((var(--slider-progress) - 1) * 100%), 0, 0);
    animation: var(--slider-animation-name) var(--slider-animation-duration) linear forwards;
    pointer-events: none;
}

.slider-thumb {
    position: absolute;
    width: var(--slider-ticker-size);
    height: var(--slider-ticker-size);
    right: calc(var(--slider-ticker-size) / -2);
    top: calc((var(--slider-size) - var(--slider-ticker-size)) / 2);
    background-color: var(--slider-color);
    clip-path: circle(48%);
    transition: transform 250ms ease-in-out;
    pointer-events: auto;

    &:hover {
        transform: scale3d(var(--slider-ticker-scale-factor), var(--slider-ticker-scale-factor), 1);
    }
}